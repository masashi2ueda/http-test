# http-test
## 概要
- flaskのdevelopment serverをそのまま使った場合、gunicornを通した場合、nginxからgunicornを通した場合のそれぞれの動作を確認した


## お勉強

### 背景
いつも簡単なpoc用web appをflaskとvueで作っている。  
バックエンドはflaskのdev serverを使っているが、本当はよくないらしい。  
gunicornやnginxを通すとよいとよく聞くが、何がなんだかわからないので、調べる。  

### gunicornとは何か？
- Gunicorn（Green Unicorn）はPythonのWebアプリケーションサーバー
- WSGI（Web Server Gateway Interface）準拠のWebアプリケーションフレームワークと連携して動作
- WSGIとは？
    - WebサーバとWebアプリケーション間の汎用的なインターフェースを定義
    - WSGIを利用することで、WebサーバとWebアプリケーションの実装を切り離すことができ、WebサーバとWebアプリケーションフレームワークの組み合わせを柔軟に選択可能
        - flaskはWebアプリケーションフレームワーク
        - nginxはwebサーバ
        - nginxとflaskをつないでくれる
- 複数のプロセスを同時に実行し、複数のリクエストを同時に処理可能!
    - Webアプリケーションのパフォーマンスが向上し、ユーザーに迅速かつ効率的なレスポンスを提供することが可能

### nginxとは何か？
- Webサーバーソフトの1つ
- webサーバとは？
    - Webサーバーとは、ユーザーからのリクエストを受けて処理を実行し、ユーザーにレスポンスを返すためのコンピューター
- 特徴は「オープンソース」「高性能な処理」「幅広い機能」
- リバースプロキシやロードバランサとしても使える
    - リバースプロキシとは？
        - プロキシ(フォワードプロキシ)とは？
            - ネットワーク内のpcに代理でwebサーバにリクエストを送ってくれる
            - メリット
                - キャッシュ：再度アクセス時に高速にアクセス可能
                - ユーザ認証：ネットワーク内の特定のpcのみwebにアクセスできる制限をかけられる
                - フィルタリング：見てはいけないサイトを禁止できる
                - ウィルス対策：受信コンテンツのウィルスチェックができる
                - 匿名性の確保：ネットワーク外のwebサーバにはプロキシサーバがアクセスするので、ネットワーク内のIPアドレスなどを隠せる
        - リバースプロキシとは？
            - ネットワーク外からネットワーク内へのアクセスを中継する
            - メリット
                - リクエストに応じたサーバ選択：外から見たら一つだけど、中で処理するサーバを分けられる
                - 負荷分散：同じ処理を行う複数のサーバを置いておけば、大量アクセスを分散できる
                - キャッシュ：同じ情報を保存しておいて、高速に返せる
                - SSL高速化：内部のwebサーバで複合化しなくてよくなり、リバースプロキシで高速に行える
                - セキュリティ向上：ネットワーク外から内部のサーバのIPなどを隠せる
    - ロードバランサとは？
        - いったんサーバーへのアクセスを集約し、リソースに余裕があるサーバーを接続先として選択する
        - 事前に決めた順序でリクエストを各サーバーに振り分ける「静的分散」、サーバーの状態をリアルタイムに測定して、リクエストをサーバーに振り分ける「動的分散」の2つがある






## 参考
- [Gunicornってなに？](https://asameshicode.com/what-is-gunicorn/#google_vignette)
- [WSGIの概要](https://gihyo.jp/dev/feature/01/wsgi/0001)
- [NGINX(エンジンエックス)とは？その特徴やメリットについて徹底解説！！](https://cn.teldevice.co.jp/column/38275/)
- [リバースプロキシとプロキシの違いとは？それぞれのサーバーの仕組みは？](https://eset-info.canon-its.jp/malware_info/special/detail/201021.html)
- [ロードバランサー（Load Balancer）とは](https://www.ntt.com/bizon/glossary/j-r/load-balancer.html)